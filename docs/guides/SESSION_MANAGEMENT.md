# ä¼šè¯ç®¡ç†æŒ‡å—

> Creative AutoGPT ä¼šè¯åˆ›å»ºã€æ¢å¤å’Œå¯¼å‡ºå®Œæ•´æŒ‡å—

## 1. ä¼šè¯æ¦‚è¿°

### 1.1 ä»€ä¹ˆæ˜¯ä¼šè¯ï¼Ÿ

ä¼šè¯ï¼ˆSessionï¼‰æ˜¯ Creative AutoGPT ä¸­çš„æ ¸å¿ƒæ¦‚å¿µï¼Œä»£è¡¨ä¸€ä¸ªå®Œæ•´çš„å°è¯´åˆ›ä½œé¡¹ç›®ã€‚æ¯ä¸ªä¼šè¯åŒ…å«ï¼š

- ğŸ“ **é…ç½®ä¿¡æ¯**ï¼šé£æ ¼ã€ä¸»é¢˜ã€å­—æ•°ç›®æ ‡ç­‰
- ğŸ¯ **ä»»åŠ¡é˜Ÿåˆ—**ï¼šå¾…æ‰§è¡Œå’Œå·²å®Œæˆçš„ä»»åŠ¡
- ğŸ’¾ **ç”Ÿæˆå†…å®¹**ï¼šå¤§çº²ã€äººç‰©ã€ç« èŠ‚ç­‰æ‰€æœ‰å†…å®¹
- ğŸ“Š **æ‰§è¡ŒçŠ¶æ€**ï¼šè¿›åº¦ã€ç»Ÿè®¡ã€æ£€æŸ¥ç‚¹ç­‰
- ğŸ” **å‘é‡è®°å¿†**ï¼šä¸Šä¸‹æ–‡æ£€ç´¢æ‰€éœ€çš„åµŒå…¥æ•°æ®

---

### 1.2 ä¼šè¯ç”Ÿå‘½å‘¨æœŸ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     ä¼šè¯ç”Ÿå‘½å‘¨æœŸ                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                              â”‚
â”‚  åˆ›å»º        é…ç½®        æ‰§è¡Œ        æš‚åœ        æ¢å¤        â”‚
â”‚   â”‚          â”‚          â”‚          â”‚          â”‚            â”‚
â”‚   â–¼          â–¼          â–¼          â–¼          â–¼            â”‚
â”‚ Created â†’ Configured â†’ Running â†’ Paused â†’ Running â†’ ...   â”‚
â”‚                            â”‚                                â”‚
â”‚                            â–¼                                â”‚
â”‚                        Completed                            â”‚
â”‚                            â”‚                                â”‚
â”‚                            â–¼                                â”‚
â”‚                       Exported/Archived                     â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**çŠ¶æ€è¯´æ˜**
- `created` - å·²åˆ›å»ºï¼Œç­‰å¾…é…ç½®
- `configured` - å·²é…ç½®ï¼Œç­‰å¾…å¯åŠ¨
- `running` - æ‰§è¡Œä¸­
- `paused` - å·²æš‚åœï¼Œå¯æ¢å¤
- `completed` - å·²å®Œæˆ
- `failed` - æ‰§è¡Œå¤±è´¥
- `archived` - å·²å½’æ¡£

---

## 2. åˆ›å»ºä¼šè¯

### 2.1 é€šè¿‡ Web UI åˆ›å»º

**æ­¥éª¤ 1ï¼šé€‰æ‹©æ¨¡å¼**

è®¿é—® http://localhost:3000ï¼Œç‚¹å‡»"æ–°å»ºé¡¹ç›®"ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          é€‰æ‹©å†™ä½œæ¨¡å¼                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                           â”‚
â”‚  ğŸ“– å°è¯´ Novel                            â”‚
â”‚     é€‚åˆï¼šç½‘ç»œå°è¯´ã€ä¼ ç»Ÿæ–‡å­¦               â”‚
â”‚                                           â”‚
â”‚  ğŸ­ å‰§æœ¬ Script                           â”‚
â”‚     é€‚åˆï¼šå½±è§†å‰§æœ¬ã€èˆå°å‰§                 â”‚
â”‚                                           â”‚
â”‚  ğŸ² å‰§æœ¬æ€ LARP                           â”‚
â”‚     é€‚åˆï¼šå‰§æœ¬æ€ã€æ¡Œæ¸¸å‰§æœ¬                 â”‚
â”‚                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**æ­¥éª¤ 2ï¼šé…ç½®å‚æ•°**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          é¡¹ç›®é…ç½®                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                           â”‚
â”‚  é¡¹ç›®åç§°ï¼šæˆ‘çš„ç„å¹»å°è¯´                     â”‚
â”‚                                           â”‚
â”‚  é£æ ¼ç±»å‹ï¼š[ç„å¹»ä¿®ä»™ â–¼]                   â”‚
â”‚                                           â”‚
â”‚  ä¸»é¢˜ï¼šå°‘å¹´ä»åºŸæé€†è¢­æˆä¸ºä»™å¸çš„æˆé•¿æ•…äº‹     â”‚
â”‚                                           â”‚
â”‚  ç›®æ ‡å­—æ•°ï¼š[1000000] å­—                   â”‚
â”‚                                           â”‚
â”‚  ç« èŠ‚æ•°é‡ï¼š[500] ç«                        â”‚
â”‚                                           â”‚
â”‚  æ¯ç« å­—æ•°ï¼šçº¦ [2000] å­—                   â”‚
â”‚                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**æ­¥éª¤ 3ï¼šLLM é…ç½®ï¼ˆé«˜çº§é€‰é¡¹ï¼‰**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          å¤§æ¨¡å‹é…ç½®                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                           â”‚
â”‚  âœ… Qwen (é€šä¹‰åƒé—®)                       â”‚
â”‚     ç”¨äºï¼šå¤§çº²ã€äººç‰©ã€ä¸–ç•Œè§‚               â”‚
â”‚                                           â”‚
â”‚  âœ… DeepSeek                              â”‚
â”‚     ç”¨äºï¼šäº‹ä»¶ã€è¯„ä¼°ã€é€»è¾‘æ£€æŸ¥             â”‚
â”‚                                           â”‚
â”‚  âœ… Doubao (è±†åŒ…)                         â”‚
â”‚     ç”¨äºï¼šç« èŠ‚å†…å®¹ã€æ¶¦è‰²ä¿®è®¢               â”‚
â”‚                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**æ­¥éª¤ 4ï¼šç¡®è®¤åˆ›å»º**

ç‚¹å‡»"åˆ›å»ºé¡¹ç›®"ï¼Œç³»ç»Ÿä¼šï¼š
1. ç”Ÿæˆå”¯ä¸€ä¼šè¯ IDï¼ˆå¦‚ `sess_1234567890`ï¼‰
2. åˆå§‹åŒ–ä»»åŠ¡é˜Ÿåˆ—
3. åˆ›å»ºå­˜å‚¨ç»“æ„
4. ä¿å­˜é…ç½®ä¿¡æ¯

---

### 2.2 é€šè¿‡ API åˆ›å»º

**HTTP è¯·æ±‚**

```bash
curl -X POST http://localhost:8000/api/v1/sessions \
  -H "Content-Type: application/json" \
  -d '{
    "mode": "novel",
    "config": {
      "style": "ç„å¹»ä¿®ä»™",
      "theme": "å°‘å¹´ä»åºŸæé€†è¢­æˆä¸ºä»™å¸çš„æˆé•¿æ•…äº‹",
      "target_words": 1000000,
      "chapter_count": 500,
      "words_per_chapter": 2000,
      "llm_config": {
        "qwen_enabled": true,
        "deepseek_enabled": true,
        "doubao_enabled": true
      }
    },
    "metadata": {
      "title": "æˆ‘çš„ç„å¹»å°è¯´",
      "author": "å¼ ä¸‰",
      "description": "ä¸€ä¸ªåºŸæå°‘å¹´çš„é€†è¢­ä¹‹è·¯",
      "tags": ["ç„å¹»", "ä¿®ä»™", "çƒ­è¡€"]
    }
  }'
```

**å“åº”**

```json
{
  "code": 200,
  "message": "Session created successfully",
  "data": {
    "session_id": "sess_1234567890",
    "mode": "novel",
    "status": "created",
    "config": { /* ... */ },
    "metadata": { /* ... */ },
    "created_at": "2026-01-23T10:00:00Z"
  }
}
```

---

### 2.3 é€šè¿‡ Python SDK åˆ›å»º

```python
from creative_autogpt import CreativeAutoGPT

# åˆå§‹åŒ–å®¢æˆ·ç«¯
client = CreativeAutoGPT(
    api_key="your-api-key",  # å¯é€‰
    base_url="http://localhost:8000"
)

# åˆ›å»ºä¼šè¯
session = client.sessions.create(
    mode="novel",
    config={
        "style": "ç„å¹»ä¿®ä»™",
        "theme": "å°‘å¹´ä»åºŸæé€†è¢­æˆä¸ºä»™å¸çš„æˆé•¿æ•…äº‹",
        "target_words": 1000000,
        "chapter_count": 500,
    },
    metadata={
        "title": "æˆ‘çš„ç„å¹»å°è¯´",
        "author": "å¼ ä¸‰"
    }
)

print(f"ä¼šè¯å·²åˆ›å»º: {session.id}")
print(f"çŠ¶æ€: {session.status}")
```

---

## 3. æ‰§è¡Œä¼šè¯

### 3.1 è‡ªåŠ¨æ‰§è¡Œæ¨¡å¼

**Web UI**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          æ‰§è¡Œæ§åˆ¶                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                           â”‚
â”‚  [â–¶ è‡ªåŠ¨æ‰§è¡Œ]  [â¸ æš‚åœ]  [â¹ åœæ­¢]       â”‚
â”‚                                           â”‚
â”‚  æ‰§è¡Œæ¨¡å¼ï¼š                                â”‚
â”‚  â— è‡ªåŠ¨è¿ç»­æ‰§è¡Œ                            â”‚
â”‚  â—‹ æ‰‹åŠ¨å•æ­¥æ‰§è¡Œ                            â”‚
â”‚                                           â”‚
â”‚  è¿›åº¦ï¼š46 / 100 ä»»åŠ¡ (46%)                â”‚
â”‚  â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘                    â”‚
â”‚                                           â”‚
â”‚  å½“å‰ä»»åŠ¡ï¼šç”Ÿæˆç¬¬ 46 ç«                     â”‚
â”‚  é¢„è®¡å®Œæˆï¼š2026-01-23 15:30               â”‚
â”‚                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**API è°ƒç”¨**

```bash
# å¯åŠ¨æ‰§è¡Œ
curl -X POST http://localhost:8000/api/v1/sessions/sess_123/start \
  -H "Content-Type: application/json" \
  -d '{"mode": "auto"}'
```

**Python SDK**

```python
# å¯åŠ¨è‡ªåŠ¨æ‰§è¡Œ
session.start(mode="auto")

# ç›‘å¬è¿›åº¦
@session.on_progress
def handle_progress(progress):
    print(f"è¿›åº¦: {progress.percentage}%")
    print(f"å½“å‰ä»»åŠ¡: {progress.current_task}")

# ç­‰å¾…å®Œæˆ
result = session.wait_completion(timeout=3600)  # 1å°æ—¶è¶…æ—¶
```

---

### 3.2 æ‰‹åŠ¨å•æ­¥æ‰§è¡Œ

**é€‚ç”¨åœºæ™¯**
- éœ€è¦ä»”ç»†å®¡æ ¸æ¯ä¸€æ­¥çš„è¾“å‡º
- è°ƒè¯•å’Œæµ‹è¯•
- å¯¹æŸäº›ç« èŠ‚è¿›è¡Œé‡ç‚¹æŠŠæ§

**Web UI**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          æ‰‹åŠ¨æ‰§è¡Œæ¨¡å¼                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                           â”‚
â”‚  ä¸‹ä¸€ä¸ªä»»åŠ¡ï¼šç”Ÿæˆç¬¬ 1 ç«                    â”‚
â”‚  ä»»åŠ¡ç±»å‹ï¼šchapter_content                â”‚
â”‚  åˆ†é…æ¨¡å‹ï¼šDoubao                         â”‚
â”‚                                           â”‚
â”‚  [æ‰§è¡Œä¸‹ä¸€æ­¥ â†’]                           â”‚
â”‚                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**API è°ƒç”¨**

```bash
# æ‰§è¡Œä¸‹ä¸€æ­¥
curl -X POST http://localhost:8000/api/v1/sessions/sess_123/next
```

**Python SDK**

```python
# å•æ­¥æ‰§è¡Œ
result = session.next_step()

print(f"ä»»åŠ¡: {result.task_type}")
print(f"çŠ¶æ€: {result.status}")
print(f"å†…å®¹é¢„è§ˆ: {result.content[:200]}...")

# å¦‚æœæ»¡æ„ï¼Œç»§ç»­ä¸‹ä¸€æ­¥
if user_confirms(result):
    session.next_step()
else:
    # é‡è¯•å½“å‰ä»»åŠ¡
    session.retry_current()
```

---

## 4. æš‚åœä¸æ¢å¤

### 4.1 æš‚åœä¼šè¯

**ä½•æ—¶æš‚åœ**
- éœ€è¦ä¸´æ—¶ç¦»å¼€
- å‘ç°é—®é¢˜éœ€è¦è°ƒæ•´é…ç½®
- èµ„æºä¸è¶³ï¼ˆAPI é…é¢ã€é¢„ç®—ç­‰ï¼‰

**Web UI**

ç‚¹å‡»"æš‚åœ"æŒ‰é’®ï¼Œç³»ç»Ÿä¼šï¼š
1. å®Œæˆå½“å‰æ­£åœ¨æ‰§è¡Œçš„ä»»åŠ¡
2. ä¿å­˜æ£€æŸ¥ç‚¹
3. å°†çŠ¶æ€æ”¹ä¸º `paused`

**API è°ƒç”¨**

```bash
curl -X POST http://localhost:8000/api/v1/sessions/sess_123/pause
```

**Python SDK**

```python
# æš‚åœä¼šè¯
session.pause()

# ç­‰å¾…å½“å‰ä»»åŠ¡å®Œæˆåæš‚åœ
session.pause(wait_current=True, timeout=300)
```

---

### 4.2 æ¢å¤ä¼šè¯

**ä»æœ€æ–°æ£€æŸ¥ç‚¹æ¢å¤**

```bash
# è‡ªåŠ¨ä»æœ€æ–°æ£€æŸ¥ç‚¹æ¢å¤
curl -X POST http://localhost:8000/api/v1/sessions/sess_123/start
```

```python
# Python SDK
session = client.sessions.get("sess_123")
session.resume()
```

**ä»ç‰¹å®šæ£€æŸ¥ç‚¹æ¢å¤**

```bash
curl -X POST http://localhost:8000/api/v1/sessions/sess_123/start \
  -H "Content-Type: application/json" \
  -d '{"checkpoint_id": "ckpt_9876543210"}'
```

```python
# åˆ—å‡ºæ‰€æœ‰æ£€æŸ¥ç‚¹
checkpoints = session.list_checkpoints()
for cp in checkpoints:
    print(f"{cp.id}: {cp.created_at} - {cp.completed_tasks} ä»»åŠ¡")

# ä»ç‰¹å®šæ£€æŸ¥ç‚¹æ¢å¤
session.resume_from_checkpoint("ckpt_9876543210")
```

---

### 4.3 æ£€æŸ¥ç‚¹ç®¡ç†

**è‡ªåŠ¨æ£€æŸ¥ç‚¹**

ç³»ç»Ÿä¼šåœ¨ä»¥ä¸‹æ—¶æœºè‡ªåŠ¨åˆ›å»ºæ£€æŸ¥ç‚¹ï¼š
- æ¯å®Œæˆ 10 ä¸ªä»»åŠ¡
- æ¯å®Œæˆä¸€ä¸ªå…³é”®ä»»åŠ¡ï¼ˆå¦‚å¤§çº²ã€äººç‰©è®¾è®¡ï¼‰
- æ‰‹åŠ¨æš‚åœæ—¶
- æ¯éš” 30 åˆ†é’Ÿï¼ˆè¿è¡Œæ—¶ï¼‰

**æ‰‹åŠ¨åˆ›å»ºæ£€æŸ¥ç‚¹**

```bash
curl -X POST http://localhost:8000/api/v1/sessions/sess_123/checkpoint \
  -H "Content-Type: application/json" \
  -d '{"description": "å®Œæˆå‰10ç« "}'
```

```python
# æ‰‹åŠ¨ä¿å­˜æ£€æŸ¥ç‚¹
checkpoint = session.save_checkpoint(
    description="å®Œæˆå‰10ç« ",
    tags=["milestone", "chapter-10"]
)
```

**æŸ¥çœ‹æ£€æŸ¥ç‚¹**

```python
# è·å–æ£€æŸ¥ç‚¹è¯¦æƒ…
checkpoint = session.get_checkpoint("ckpt_123")

print(f"æ—¶é—´: {checkpoint.created_at}")
print(f"è¿›åº¦: {checkpoint.completed_tasks}/{checkpoint.total_tasks}")
print(f"çŠ¶æ€å¿«ç…§: {checkpoint.state_summary}")
```

---

## 5. ä¼šè¯æŸ¥è¯¢

### 5.1 è·å–ä¼šè¯åˆ—è¡¨

**Web UI**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          æˆ‘çš„é¡¹ç›®                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                            â”‚
â”‚  ğŸŸ¢ æˆ‘çš„ç„å¹»å°è¯´              è¿›åº¦: 46%    2026-01-23     â”‚
â”‚     500ç«  | ç„å¹»ä¿®ä»™                       [ç»§ç»­] [è¯¦æƒ…]   â”‚
â”‚                                                            â”‚
â”‚  ğŸŸ¡ éƒ½å¸‚ä¿®ä»™å½•                è¿›åº¦: 15%    2026-01-20     â”‚
â”‚     300ç«  | éƒ½å¸‚ä¿®ä»™                       [ç»§ç»­] [è¯¦æƒ…]   â”‚
â”‚                                                            â”‚
â”‚  âšª æœ«ä¸–æ±‚ç”Ÿ                  è¿›åº¦: 0%     2026-01-18     â”‚
â”‚     200ç«  | ç§‘å¹»æœ«ä¸–                       [å¯åŠ¨] [è¯¦æƒ…]   â”‚
â”‚                                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**API è°ƒç”¨**

```bash
# è·å–ä¼šè¯åˆ—è¡¨
curl "http://localhost:8000/api/v1/sessions?page=1&page_size=20&status=running"
```

**Python SDK**

```python
# è·å–æ‰€æœ‰ä¼šè¯
sessions = client.sessions.list()

# ç­›é€‰
running_sessions = client.sessions.list(status="running")
recent_sessions = client.sessions.list(
    created_after="2026-01-01",
    order_by="created_at",
    order="desc"
)

# éå†
for session in running_sessions:
    print(f"{session.title}: {session.progress.percentage}%")
```

---

### 5.2 æŸ¥çœ‹ä¼šè¯è¯¦æƒ…

```python
# è·å–è¯¦æƒ…
session = client.sessions.get("sess_123")

print(f"æ ‡é¢˜: {session.metadata.title}")
print(f"çŠ¶æ€: {session.status}")
print(f"è¿›åº¦: {session.progress.completed_tasks}/{session.progress.total_tasks}")
print(f"å­—æ•°: {session.stats.total_words}")

# è·å–ä»»åŠ¡åˆ—è¡¨
tasks = session.tasks.list(status="completed")
for task in tasks:
    print(f"  - {task.task_type}: {task.status}")

# è·å–ç« èŠ‚
chapters = session.chapters.list()
for chapter in chapters:
    print(f"  ç¬¬{chapter.number}ç« : {chapter.title} ({chapter.word_count}å­—)")
```

---

## 6. å¯¼å‡ºä¼šè¯

### 6.1 å¯¼å‡ºå…¨ä¹¦

**Web UI**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          å¯¼å‡ºè®¾ç½®                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                           â”‚
â”‚  æ ¼å¼ï¼š                                    â”‚
â”‚  â— TXT (çº¯æ–‡æœ¬)                           â”‚
â”‚  â—‹ Markdown                               â”‚
â”‚  â—‹ JSON (ç»“æ„åŒ–æ•°æ®)                      â”‚
â”‚  â—‹ EPUB (ç”µå­ä¹¦)                          â”‚
â”‚                                           â”‚
â”‚  åŒ…å«å†…å®¹ï¼š                                â”‚
â”‚  âœ… ç« èŠ‚å†…å®¹                              â”‚
â”‚  âœ… äººç‰©ä»‹ç»                              â”‚
â”‚  âœ… ä¸–ç•Œè§‚è®¾å®š                            â”‚
â”‚  âœ… åˆ›ä½œå…ƒæ•°æ®                            â”‚
â”‚                                           â”‚
â”‚  ç« èŠ‚èŒƒå›´ï¼š                                â”‚
â”‚  ä» [1] åˆ° [50] ç«                         â”‚
â”‚                                           â”‚
â”‚  [å¯¼å‡º] [å–æ¶ˆ]                            â”‚
â”‚                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**API è°ƒç”¨**

```bash
# è¯·æ±‚å¯¼å‡º
curl -X POST http://localhost:8000/api/v1/sessions/sess_123/export \
  -H "Content-Type: application/json" \
  -d '{
    "format": "txt",
    "include_metadata": true,
    "chapter_range": {"start": 1, "end": 50}
  }'

# å“åº”
{
  "export_id": "exp_123",
  "download_url": "/api/v1/exports/exp_123/download",
  "expires_at": "2026-01-24T10:00:00Z"
}

# ä¸‹è½½æ–‡ä»¶
curl http://localhost:8000/api/v1/exports/exp_123/download \
  -o novel.txt
```

**Python SDK**

```python
# å¯¼å‡ºä¸ºæ–‡æœ¬æ–‡ä»¶
export = session.export(
    format="txt",
    include_metadata=True,
    output_path="./outputs/my_novel.txt"
)

print(f"å¯¼å‡ºæˆåŠŸ: {export.output_path}")
print(f"æ–‡ä»¶å¤§å°: {export.file_size} bytes")

# å¯¼å‡ºä¸º Markdown
session.export(
    format="markdown",
    output_path="./outputs/my_novel.md"
)

# å¯¼å‡ºä¸ºç»“æ„åŒ– JSON
session.export(
    format="json",
    include_all=True,  # åŒ…å«æ‰€æœ‰ä»»åŠ¡ã€è¯„ä¼°ç­‰æ•°æ®
    output_path="./outputs/my_novel.json"
)
```

---

### 6.2 å¯¼å‡ºæ ¼å¼

#### TXT æ ¼å¼

```text
æˆ‘çš„ç„å¹»å°è¯´
ä½œè€…ï¼šå¼ ä¸‰

=================
   äººç‰©ä»‹ç»
=================

æé€é¥
- å¹´é¾„ï¼š16å²
- æ€§æ ¼ï¼šåšéŸ§ä¸æ‹”
...

=================
   ä¸–ç•Œè§‚è®¾å®š
=================

ä¿®ç‚¼ä½“ç³»ï¼š
1. ç‚¼æ°”æœŸ
2. ç­‘åŸºæœŸ
...

=================
   æ­£æ–‡
=================

ç¬¬ä¸€ç«  åˆå…¥ä¿®ä»™ç•Œ

æ¸…æ™¨çš„ç¬¬ä¸€ç¼•é˜³å…‰æ´’åœ¨é’äº‘å±±ä¸Š...

ï¼ˆåç»­ç« èŠ‚ï¼‰
```

#### Markdown æ ¼å¼

```markdown
# æˆ‘çš„ç„å¹»å°è¯´

**ä½œè€…**: å¼ ä¸‰  
**å­—æ•°**: 125,000 å­—  
**å®Œæˆæ—¥æœŸ**: 2026-01-23

---

## äººç‰©ä»‹ç»

### æé€é¥
- **å¹´é¾„**: 16å²
- **æ€§æ ¼**: åšéŸ§ä¸æ‹”
...

---

## ç¬¬ä¸€ç«  åˆå…¥ä¿®ä»™ç•Œ

æ¸…æ™¨çš„ç¬¬ä¸€ç¼•é˜³å…‰æ´’åœ¨é’äº‘å±±ä¸Š...
```

#### JSON æ ¼å¼

```json
{
  "metadata": {
    "title": "æˆ‘çš„ç„å¹»å°è¯´",
    "author": "å¼ ä¸‰",
    "created_at": "2026-01-23T10:00:00Z",
    "total_words": 125000
  },
  "outline": {
    "summary": "...",
    "volumes": [...]
  },
  "characters": [
    {
      "name": "æé€é¥",
      "age": 16,
      "personality": "åšéŸ§ä¸æ‹”",
      ...
    }
  ],
  "chapters": [
    {
      "number": 1,
      "title": "åˆå…¥ä¿®ä»™ç•Œ",
      "content": "...",
      "word_count": 3500
    }
  ]
}
```

---

## 7. åˆ é™¤ä¸å½’æ¡£

### 7.1 å½’æ¡£ä¼šè¯

**ä½•æ—¶å½’æ¡£**
- é¡¹ç›®å·²å®Œæˆï¼Œæš‚ä¸åˆ é™¤
- éœ€è¦è…¾å‡ºæ´»è·ƒåˆ—è¡¨ç©ºé—´
- ä¿ç•™ä½œä¸ºå‚è€ƒ

```bash
# å½’æ¡£ä¼šè¯
curl -X POST http://localhost:8000/api/v1/sessions/sess_123/archive
```

```python
# Python SDK
session.archive()

# æŸ¥çœ‹å½’æ¡£åˆ—è¡¨
archived = client.sessions.list(archived=True)
```

---

### 7.2 åˆ é™¤ä¼šè¯

**âš ï¸ è­¦å‘Š**ï¼šåˆ é™¤æ“ä½œä¸å¯æ¢å¤ï¼

```bash
# åˆ é™¤ä¼šè¯
curl -X DELETE http://localhost:8000/api/v1/sessions/sess_123
```

```python
# Python SDK
session.delete()

# å¸¦ç¡®è®¤çš„åˆ é™¤
if confirm("ç¡®å®šè¦åˆ é™¤ä¼šè¯å—ï¼Ÿæ­¤æ“ä½œä¸å¯æ¢å¤ï¼"):
    session.delete()
```

---

## 8. ä¼šè¯å…±äº«

### 8.1 å¯¼å‡ºä¼šè¯é…ç½®

```python
# å¯¼å‡ºé…ç½®ï¼ˆä¸å«å†…å®¹ï¼‰
config = session.export_config()

# ä¿å­˜ä¸ºæ–‡ä»¶
with open("novel_template.json", "w") as f:
    json.dump(config, f, indent=2)
```

**é…ç½®æ–‡ä»¶ç¤ºä¾‹**

```json
{
  "mode": "novel",
  "style": "ç„å¹»ä¿®ä»™",
  "theme": "å°‘å¹´æˆé•¿",
  "target_words": 1000000,
  "chapter_count": 500,
  "llm_config": { /* ... */ },
  "prompt_templates": { /* ... */ }
}
```

---

### 8.2 ä»é…ç½®åˆ›å»ºæ–°ä¼šè¯

```python
# è¯»å–é…ç½®
with open("novel_template.json") as f:
    config = json.load(f)

# åŸºäºé…ç½®åˆ›å»ºæ–°ä¼šè¯
new_session = client.sessions.create_from_config(
    config=config,
    metadata={
        "title": "æ–°çš„å°è¯´",
        "author": "æå››"
    }
)
```

---

## 9. æœ€ä½³å®è·µ

### 9.1 å‘½åè§„èŒƒ

âœ… **DO**
- ä½¿ç”¨æœ‰æ„ä¹‰çš„é¡¹ç›®åç§°
- æ·»åŠ æ ‡ç­¾ä¾¿äºç­›é€‰
- åœ¨æè¿°ä¸­è¯´æ˜æ ¸å¿ƒäº®ç‚¹

```python
session = client.sessions.create(
    metadata={
        "title": "æ˜Ÿé™…å¾é€” - äººç±»æ‰©å¼ å²è¯—",
        "description": "ä¸€ä¸ªå…³äºäººç±»æ®–æ°‘å®‡å®™çš„å²è¯—çº§ç§‘å¹»å°è¯´",
        "tags": ["ç§‘å¹»", "å²è¯—", "å¤ªç©ºæ­Œå‰§", "å¤šçº¿å™äº‹"]
    }
)
```

âŒ **DON'T**
- ä½¿ç”¨"æµ‹è¯•"ã€"æ–°å»ºé¡¹ç›®"ç­‰æ— æ„ä¹‰åç§°
- ä¸æ·»åŠ ä»»ä½•æè¿°ä¿¡æ¯

---

### 9.2 æ£€æŸ¥ç‚¹ç­–ç•¥

âœ… **DO**
- å®Œæˆå…³é”®ä»»åŠ¡åæ‰‹åŠ¨ä¿å­˜æ£€æŸ¥ç‚¹
- ä¸ºæ£€æŸ¥ç‚¹æ·»åŠ æè¿°
- å®šæœŸæ¸…ç†æ—§æ£€æŸ¥ç‚¹

```python
# å…³é”®èŠ‚ç‚¹æ‰‹åŠ¨ä¿å­˜
session.save_checkpoint(
    description="å¤§çº²å’Œäººç‰©è®¾è®¡å·²å®Œæˆ",
    tags=["milestone", "planning-done"]
)

# æ¸…ç†æ—§æ£€æŸ¥ç‚¹ï¼ˆä¿ç•™æœ€è¿‘10ä¸ªï¼‰
session.cleanup_checkpoints(keep=10)
```

---

### 9.3 ç›‘æ§æ‰§è¡Œ

```python
# å¯åŠ¨æ‰§è¡Œï¼Œå¹¶è®¾ç½®ç›‘å¬å™¨
session.start(mode="auto")

# è¿›åº¦ç›‘å¬
@session.on_progress
def handle_progress(progress):
    logger.info(f"è¿›åº¦: {progress.percentage}%")
    
    # æ¥è¿‘å®Œæˆæ—¶å‘é€é€šçŸ¥
    if progress.percentage > 90:
        send_notification("å°è¯´å³å°†å®Œæˆï¼")

# é”™è¯¯ç›‘å¬
@session.on_error
def handle_error(error):
    logger.error(f"æ‰§è¡Œå‡ºé”™: {error}")
    # è‡ªåŠ¨æš‚åœ
    session.pause()
    send_alert(f"ä¼šè¯ {session.id} é‡åˆ°é”™è¯¯")
```

---

## 10. å¸¸è§é—®é¢˜

### Q1: ä¼šè¯æ•°æ®å­˜å‚¨åœ¨å“ªé‡Œï¼Ÿ

**A**: å–å†³äºé…ç½®

- **å¼€å‘ç¯å¢ƒ**: `./data/sessions/{session_id}/`
- **ç”Ÿäº§ç¯å¢ƒ**: æ•°æ®åº“ + å¯¹è±¡å­˜å‚¨ï¼ˆS3/MinIOï¼‰

```
data/sessions/sess_123/
â”œâ”€â”€ metadata.json          # å…ƒæ•°æ®
â”œâ”€â”€ config.json            # é…ç½®
â”œâ”€â”€ tasks.db               # ä»»åŠ¡æ•°æ®ï¼ˆSQLiteï¼‰
â”œâ”€â”€ checkpoints/           # æ£€æŸ¥ç‚¹
â”‚   â””â”€â”€ ckpt_xxx.json
â”œâ”€â”€ chapters/              # ç« èŠ‚å†…å®¹
â”‚   â”œâ”€â”€ chapter_001.txt
â”‚   â””â”€â”€ ...
â””â”€â”€ vectors/               # å‘é‡æ•°æ®ï¼ˆChromaï¼‰
```

---

### Q2: å¯ä»¥åŒæ—¶è¿è¡Œå¤šä¸ªä¼šè¯å—ï¼Ÿ

**A**: å¯ä»¥ï¼Œä½†å»ºè®®æ§åˆ¶å¹¶å‘æ•°

```python
# é…ç½®æœ€å¤§å¹¶å‘ä¼šè¯æ•°
config = {
    "max_concurrent_sessions": 3
}

# è¶…å‡ºé™åˆ¶ä¼šè‡ªåŠ¨æ’é˜Ÿ
session1.start()  # ç«‹å³å¼€å§‹
session2.start()  # ç«‹å³å¼€å§‹
session3.start()  # ç«‹å³å¼€å§‹
session4.start()  # æ’é˜Ÿç­‰å¾…
```

---

### Q3: ä¼šè¯å¤±è´¥äº†æ€ä¹ˆåŠï¼Ÿ

**A**: æŸ¥çœ‹é”™è¯¯æ—¥å¿—ï¼Œä¿®å¤åé‡è¯•

```python
# è·å–é”™è¯¯è¯¦æƒ…
errors = session.get_errors()
for error in errors:
    print(f"ä»»åŠ¡: {error.task_id}")
    print(f"é”™è¯¯: {error.message}")
    print(f"å †æ ˆ: {error.traceback}")

# ä¿®å¤é…ç½®åé‡è¯•
session.retry_failed_tasks()

# æˆ–ä»æœ€åæˆåŠŸçš„æ£€æŸ¥ç‚¹æ¢å¤
session.resume_from_last_success()
```

---

## 11. å‚è€ƒèµ„æº

- [REST API æ–‡æ¡£](../api/REST_API.md)
- [WebSocket API æ–‡æ¡£](../api/WEBSOCKET_API.md)
- [æ¶æ„æ€»è§ˆ](../architecture/OVERVIEW.md)

---

*ç‰ˆæœ¬: 1.0*  
*æœ€åæ›´æ–°: 2026-01-23*
