# 💡 Creative AutoGPT 完整使用指南

## 🎯 用户工作流程

### 第一步：打开应用

访问 **http://localhost:4173**

主页显示三个快捷入口：
- 📝 **创建新项目** - 开始新的创作项目
- 📂 **我的项目** - 查看所有创建的项目
- ⚙️ **项目设置** - 管理系统配置

---

## 📝 第一步：创建项目

### 方式一：手动填写表单 (📝 手动填写)

**表单字段：**

1. **项目标题** *(必填)*
   - 例如：《我的科幻小说》、《玄幻冒险记》
   - 用于识别和组织项目

2. **创作模式**
   - 🔸 **小说创作** - 长篇小说（默认）
   - 🔸 **短篇故事** - 短篇文学作品
   - 🔸 **剧本创作** - 电影/电视剧本

3. **目标章节数** (1-20)
   - 选择你要创作的章节总数
   - 例如：10 章、20 章

4. **类型/流派**
   - 例如：科幻、奇幻、悬疑、言情、穿越等
   - 帮助 AI 理解创作方向

5. **风格**
   - 例如：轻松幽默、严肃深沉、浪漫唯美
   - 指导内容的文笔风格

6. **创作要求**
   - 自由输入你的特殊需求
   - 例如：需要含有悬念、多条线索交织、男主冷酷等

**提交：**
- 点击 **创建项目** 按钮
- 系统开始初始化项目

---

### 方式二：智能生成配置 (✨ 智能生成)

**适用场景：** 不知道具体配置，想让 AI 智能分析

**步骤：**

1. 切换到 **✨ 智能生成** 标签页

2. 在文本框中描述你的创作想法：

   ```
   示例：
   我想写一个关于时间旅行的科幻小说。主角是一个物理学家，
   他意外发现了穿越时空的方法。故事应该包含复杂的时间悖论、
   行动场景和对人性的深思。我希望故事节奏快，
   充满悬念和反转。
   ```

   **描述越详细，AI 生成的配置越准确** ✨

3. 点击 **✨ 生成配置** 按钮

4. AI 智能分析后自动填充表单：
   - ✅ 项目标题
   - ✅ 类型/流派
   - ✅ 风格
   - ✅ 创作要求
   - ✅ 目标篇幅

5. 确认表单内容无误后，点击 **创建项目**

> **提示：** 这个功能使用 AI 智能增强，分析你的描述并自动生成最优配置

---

## ⚙️ 第二步：项目创建完成 → 自动进入工作区

### 发生的事情：

1. **页面自动跳转** 到项目工作区
2. **WebSocket 连接建立** 与后端实时通信
3. **项目自动启动** 开始创作流程
4. **系统显示提示**：✨ 创作任务已启动

### 工作区主要界面：

```
┌─────────────────────────────────────────┐
│  项目: 《科幻探险记》                   │
├─────────────────────────────────────────┤
│  状态: 创作中 ⏳                        │
│  进度: ████░░░░░░ 40%                   │
├─────────────────────────────────────────┤
│                                         │
│  📋 任务列表                 📖 预览    │
│  ├─ 🟢 章节规划 (完成)      《第一章》  │
│  ├─ 🟡 人物设计 (进行中)    第1段      │
│  ├─ ⭕ 大纲生成 (等待)     ...        │
│  ├─ ⭕ 内容创作 (等待)                 │
│  └─ ⭕ 内容修订 (等待)     💬 评论    │
│                             ...       │
└─────────────────────────────────────────┘
```

---

## 📊 第三步：实时监控创作进度

### 左侧：📋 任务列表

**任务状态显示：**
- 🟢 **完成 (Completed)** - 任务已完成
- 🟡 **进行中 (Running)** - 正在执行，会显示加载状态
- ⭕ **等待 (Pending)** - 等待前置任务完成
- 🔴 **失败 (Failed)** - 任务执行出错

**任务类型：**
1. **章节规划** - 规划小说章节结构和内容大纲
2. **人物设计** - 设计主要人物的性格、背景、弧线
3. **世界观设定** - 建立故事发生的世界规则、背景
4. **大纲生成** - 生成详细的章节内容大纲
5. **内容创作** - AI 根据大纲生成小说内容
6. **内容修订** - 对生成的内容进行修订和优化

### 右侧：📖 实时预览

**显示内容：**
- 已生成的小说内容片段
- 实时更新：当后台任务完成时，预览会自动更新
- 可以上下滚动查看内容

### 顶部：进度条

- 显示整个项目的完成进度百分比
- 实时更新，与任务进度同步

---

## 🎮 第四步：交互操作

### 工作区顶部工具栏：

1. **⏸️ 暂停** - 暂停当前创作任务
   - 已启动的任务会停止
   - 之前的结果保留
   
2. **▶️ 继续** - 恢复暂停的任务
   - 从暂停点继续执行
   - 不重新开始

3. **🔄 重新开始** - 重置项目，重新开始创作
   - 清除所有进度
   - 重新从第一个任务开始

4. **📥 导入** - 导入外部小说内容
   - 支持 .txt 格式
   - 用于继续编写已有内容

5. **📤 导出** - 导出创作结果
   - 支持格式：
     - 📄 **Word** (.docx) - 专业文档格式
     - 📰 **PDF** (.pdf) - 打印友好格式
     - 📝 **纯文本** (.txt) - 纯文本格式
     - 📋 **Markdown** (.md) - 用于 Web 发布
   - 导出后自动下载

---

## 💬 第五步：评论和反馈

### 在预览内容下方：

1. **💬 评论区** - 对生成的内容进行评论
   
2. **评论功能：**
   - 输入你的意见、建议或改进意见
   - 可以标记段落位置
   - AI 会在后续修订时考虑你的反馈

3. **示例评论：**
   - "这段人物对话太生硬，需要更自然"
   - "这里的转折太突兀，需要更多铺垫"
   - "很喜欢这个细节描写"

---

## 📊 完整任务流程示意

```
┌──────────────────────────────────────────────────────────────┐
│  🚀 项目启动                                                 │
└──────────────────────────────────────────────────────────────┘
                              ↓
┌──────────────────────────────────────────────────────────────┐
│  1️⃣  📋 章节规划                                            │
│     - 分析你的需求                                          │
│     - 生成章节框架和大纲                                    │
│     任务时间: ~2-3 分钟                                     │
└──────────────────────────────────────────────────────────────┘
                              ↓
┌──────────────────────────────────────────────────────────────┐
│  2️⃣  👥 人物设计                                            │
│     - 设计主要人物特征                                      │
│     - 规划人物关系和成长弧线                                │
│     任务时间: ~2-3 分钟                                     │
└──────────────────────────────────────────────────────────────┘
                              ↓
┌──────────────────────────────────────────────────────────────┐
│  3️⃣  🌍 世界观设定                                          │
│     - 建立故事背景世界                                      │
│     - 规则、设定、背景信息                                  │
│     任务时间: ~2-3 分钟                                     │
└──────────────────────────────────────────────────────────────┘
                              ↓
┌──────────────────────────────────────────────────────────────┐
│  4️⃣  📑 大纲生成                                            │
│     - 为每一章生成详细大纲                                  │
│     - 包含情节点、转折、高潮                                │
│     任务时间: ~5-10 分钟                                    │
└──────────────────────────────────────────────────────────────┘
                              ↓
┌──────────────────────────────────────────────────────────────┐
│  5️⃣  ✍️  内容创作                                           │
│     - AI 根据大纲创作每一章内容                             │
│     - 使用多 LLM 协作保证质量                               │
│     任务时间: ~10-30 分钟（取决于章节数）                 │
└──────────────────────────────────────────────────────────────┘
                              ↓
┌──────────────────────────────────────────────────────────────┐
│  6️⃣  🔍 内容修订                                            │
│     - 检查一致性、语言、质量                                │
│     - 修复问题和不足                                        │
│     任务时间: ~5-10 分钟                                    │
└──────────────────────────────────────────────────────────────┘
                              ↓
┌──────────────────────────────────────────────────────────────┐
│  ✅ 完成！🎉                                                 │
│  - 可以导出为多种格式                                       │
│  - 可以进行人工编辑和调整                                   │
│  - 可以继续扩展或创作新项目                                 │
└──────────────────────────────────────────────────────────────┘
```

---

## ⏱️ 总耗时估计

| 章节数 | 预计时间 | 备注 |
|--------|---------|------|
| 5-10   | 30-45 分钟 | 快速创作 |
| 10-20  | 45-90 分钟 | 标准创作 |
| 20+    | 2-3 小时 | 长篇小说 |

> **注：** 实际时间取决于网络速度和 LLM API 响应时间

---

## 🎯 关键功能说明

### 1. WebSocket 实时更新 🔄

- 任务进度实时显示
- 预览内容实时更新
- 无需手动刷新

### 2. 多 LLM 协作 🤖

系统使用三个大模型分工合作：

- **阿里通义千问 (Qwen)** 
  - 任务：大纲、人物设计、世界观规则
  - 优点：长上下文能力强 (200K+)，全局一致性好

- **DeepSeek**
  - 任务：事件、评估、一致性检查
  - 优点：逻辑推理强，性价比高

- **火山方舟豆包 (Doubao)**
  - 任务：章节内容、修订、对话
  - 优点：文学创作强，文笔优美

### 3. 向量记忆系统 🧠

- 记忆人物信息、世界设定、情节细节
- 确保长篇小说的一致性和连贯性
- 自动检测和修复时间线错误

---

## 🛠️ 故障排查

### 问题 1：创建项目后页面卡住

**解决方案：**
1. 等待 30 秒左右
2. 检查浏览器控制台有无错误
3. 刷新页面（Cmd+R）
4. 如果持续卡住，检查后端是否运行：`curl http://localhost:8000/health`

### 问题 2：实时预览没有更新

**解决方案：**
1. 检查 WebSocket 连接：打开浏览器开发工具 (F12) → Network → WS
2. 查看 "ws://localhost:8000/ws/ws" 是否连接成功
3. 如果连接失败，重新加载页面

### 问题 3：任务一直显示"进行中"

**解决方案：**
1. 检查网络连接
2. 查看浏览器控制台错误信息
3. 尝试暂停→继续
4. 如果问题持续，重启后端服务

### 问题 4：导出功能失败

**解决方案：**
1. 确保有足够的磁盘空间
2. 尝试不同的导出格式
3. 检查浏览器权限设置

---

## 💡 最佳实践

### 创建项目前：

1. ✅ **明确创作目标**
   - 你想要写什么类型的故事
   - 主要人物和情节框架
   - 期望的篇幅和风格

2. ✅ **准备详细的描述**
   - 如果使用"智能生成"，描述越详细越好
   - 包含关键的设定和要求

### 创作进行中：

1. ✅ **定期检查进度**
   - 查看预览内容
   - 提供反馈和改进意见

2. ✅ **保持连接稳定**
   - 不要关闭浏览器标签页
   - 保持网络连接

3. ✅ **及时导出备份**
   - 完成重要进度时导出
   - 以防数据丢失

### 完成后：

1. ✅ **人工编辑和校对**
   - AI 生成的内容需要人工精细调整
   - 检查语言流畅性和故事连贯性

2. ✅ **收集反馈**
   - 邀请他人阅读和评价
   - 根据反馈进行修改

---

## 🔗 相关文档

- [完整 API 文档](http://localhost:8000/docs)
- [WebSocket 实现](docs/WEBSOCKET_IMPLEMENTATION.md)
- [开发指南](DEV_GUIDE.md)

---

## 📞 需要帮助？

1. 🐛 **报告问题** - 在工作区上方显示的错误信息
2. 💬 **提供反馈** - 评论区中反馈内容建议
3. 📚 **查看文档** - http://localhost:8000/docs

---

**祝你创作愉快！🎨✍️**
